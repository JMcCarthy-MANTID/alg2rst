Fits a dataset using a resolution function convolved with a foreground model